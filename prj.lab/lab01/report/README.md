# Отчет по лабораторной №01 (простые операции, гамма-коррекция)

#### Задание

1. Написать консольное приложение для генерации одноканального 8bpp изображения с "градиентной заливкой" (от 0 до 255, 
   из прямоугольников `s`-ширина, `h`-высота) и гамма-скорректированной заливкой
1. Полоски располагаются друг над другом
1. Гамма-коррекция оформляется в виде функции
1. Имя выходного файла указывается в виде опционального параметра (без ключа), если этот параметр не задан, то просто 
   показать на экране результат и закрыть приложение по нажатию любой клавиши
1. Параметры `s`, `h`, `gamma` получать из параметров коммандной строки, если ключи не заданы, то использовать умолчания 
   (`s=3, h=30, gamma=2.4`)




### Результат
1. Описание аргументов командной строки вынесено в класс `Args`, который предоставляет приложению следующий интерфейс:
   ```cpp
   Args args(argc, argv);
   // args.width, args.height, args.gamma, ...
   ```
   
2. Функция для генерации градиента имеет следующую сигнатуру:
   ```cpp
   cv::Mat1b generate_gradient(int width, int height) {...}
   ```
   Что делаем в функции:
   * создаем изображение `(height)x(width*256)`
   * закрашиваем прямоугольники `(height)x(width)` цветами от 0 до 255

3. Функция гамма-коррекции имеет следующую сигнатуру:
   ```cpp
   cv::Mat1b apply_gamma_correction(cv::Mat1b &image, double gamma) {...}
   ```
   Что делаем в функции:
   * для каждого пикселя применяем гамма-коррекция по формуле $M_{ij} = 255 * \frac{M_{ij}}{255}^{\frac{1}{\gamma}}$

4. Затем объединяем исходное изображение и получившееся после применения гамма-коррекции в одно, и либо выводим на экран,
   если опциональный аргумент `filename` не задан, либо сохраняем в файл `filaname`

### Результаты:
`w=5, h=80, gamma=0.1`

![](5x80_0.1.png)

`w=5, h=80, gamma=0.6`

![](5x80_0.6.png)

`default (w=5, h=80, gamma=1)`

![](5x80_1.png)

`w=1, h=16, gamma=2.2`

![](1x16_2.2.png)

`default (w=3, h=30, gamma=2.4)`

![](default.png)

### Выводы
Гамма-коррекция сильно влияет на распределение яркости в изображениях. Малые значения гаммы (<1) затемняют изображение, 
увеличивая доминирование темных оттенков, в то время как большие значения гаммы (>1) осветляют его, выделяя светлые 
тона. Значение гаммы, равное 1, не изменяет изображение